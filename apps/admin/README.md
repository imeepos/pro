# Admin ç®¡ç†åå°

åŸºäº Angular 20 çš„ç°ä»£åŒ–ç®¡ç†åå°ç³»ç»Ÿï¼Œæä¾›æ•°æ®å¯è§†åŒ–ã€ç³»ç»Ÿç®¡ç†å’Œå®æ—¶ç›‘æ§åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 20.0.0
- Bun >= 1.3.0

### å¼€å‘å‘½ä»¤

```bash
# è¿›å…¥ç›®å½•
cd apps/admin

# å®‰è£…ä¾èµ–
bun install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bun run dev

# ç±»å‹æ£€æŸ¥
bun run typecheck

# ä»£ç æ„å»º
bun run build

# è¿è¡Œæµ‹è¯•
bun run test

# ä»£ç æ£€æŸ¥
bun run lint
```

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Angular 20 + Standalone Components
- **UI åº“**: TailwindCSS + Flowbite
- **çŠ¶æ€ç®¡ç†**: Akita
- **æ•°æ®å¯è§†åŒ–**: è‡ªå®šä¹‰å›¾è¡¨ç³»ç»Ÿ + é«˜å¾·åœ°å›¾
- **å®æ—¶é€šä¿¡**: Socket.IO
- **ç»„ä»¶åº“**: Gridster2 (æ‹–æ‹½å¸ƒå±€)

### é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ core/                 # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ guards/          # è·¯ç”±å®ˆå«
â”‚   â”‚   â”œâ”€â”€ interceptors/    # HTTP æ‹¦æˆªå™¨
â”‚   â”‚   â”œâ”€â”€ services/        # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚   â””â”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ features/            # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth/           # è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ dashboard/      # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ events/         # äº‹ä»¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ weibo/          # å¾®åšç®¡ç†
â”‚   â”‚   â”œâ”€â”€ jd/             # äº¬ä¸œç®¡ç†
â”‚   â”‚   â”œâ”€â”€ media-type/     # åª’ä½“ç±»å‹
â”‚   â”‚   â”œâ”€â”€ screens/        # å¤§å±ç¼–è¾‘å™¨
â”‚   â”‚   â””â”€â”€ api-keys/       # API å¯†é’¥ç®¡ç†
â”‚   â”œâ”€â”€ shared/             # å…±äº«ç»„ä»¶
â”‚   â””â”€â”€ state/              # çŠ¶æ€ç®¡ç†
â”œâ”€â”€ environments/           # ç¯å¢ƒé…ç½®
â””â”€â”€ assets/                # é™æ€èµ„æº
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. è®¤è¯æˆæƒ
- JWT Token è®¤è¯
- è‡ªåŠ¨ Token åˆ·æ–°
- è·¯ç”±æƒé™æ§åˆ¶
- ç”¨æˆ·çŠ¶æ€ç®¡ç†

### 2. å¤§å±ç¼–è¾‘å™¨
- æ‹–æ‹½å¼ç»„ä»¶å¸ƒå±€
- å®æ—¶æ•°æ®ç»‘å®š
- ç»„ä»¶é…ç½®ç®¡ç†
- é¢„è§ˆå‘å¸ƒåŠŸèƒ½

### 3. æ•°æ®å¯è§†åŒ–
- è‡ªå®šä¹‰å›¾è¡¨ç»„ä»¶
- å®æ—¶æ•°æ®æ›´æ–°
- å“åº”å¼å¸ƒå±€
- ä¸»é¢˜å®šåˆ¶

### 4. ç³»ç»Ÿç®¡ç†
- ç”¨æˆ·ç®¡ç†
- æƒé™é…ç½®
- API å¯†é’¥ç®¡ç†
- ç³»ç»Ÿç›‘æ§

## ğŸ¨ ç»„ä»¶ç³»ç»Ÿ

### å¤§å±ç»„ä»¶
- `weibo-logged-in-users-card`: å¾®åšå·²ç™»å½•ç”¨æˆ·ç»Ÿè®¡
- `test-simple`: æµ‹è¯•ç»„ä»¶

### å…±äº«ç»„ä»¶
- è¡¨å•ç»„ä»¶
- æ•°æ®è¡¨æ ¼
- æ–‡ä»¶ä¸Šä¼ 
- å›¾è¡¨ç»„ä»¶

## ğŸ“¡ å®æ—¶é€šä¿¡

### WebSocket è¿æ¥
- è‡ªåŠ¨é‡è¿æœºåˆ¶
- JWT è®¤è¯
- äº‹ä»¶è®¢é˜…ç®¡ç†
- è¿æ¥çŠ¶æ€ç›‘æ§

### æ•°æ®æ›´æ–°
- å¾®åšç”¨æˆ·ç»Ÿè®¡å®æ—¶æ›´æ–°
- äº‹ä»¶çŠ¶æ€å˜æ›´æ¨é€
- ç³»ç»ŸçŠ¶æ€ç›‘æ§

## ğŸ”§ å¼€å‘é…ç½®

### ç¯å¢ƒå˜é‡
```typescript
export const environment = {
  production: false,
  apiUrl: 'http://localhost:3000/api',
  amapApiKey: 'YOUR_AMAP_KEY',
  tokenKey: 'access_token',
  refreshTokenKey: 'refresh_token',
  timeout: 30000
};
```

### ä¾èµ–æ³¨å…¥é…ç½®
- SkerSDK: API æ¥å£å°è£…
- TokenStorageService: Token ç®¡ç†
- HttpClientService: HTTP å®¢æˆ·ç«¯
- WebSocketManager: WebSocket ç®¡ç†

## ğŸ“¦ æ„å»ºéƒ¨ç½²

### Docker æ„å»º
```bash
# æ„å»ºé•œåƒ
docker build -t pro-admin:latest .

# è¿è¡Œå®¹å™¨
docker run -p 4201:80 pro-admin:latest
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
bun run build:prod

# éƒ¨ç½²åˆ°é™æ€æœåŠ¡å™¨
# dist/ ç›®å½•å¯ç›´æ¥éƒ¨ç½²
```

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
bun run test

# ç›‘å¬æ¨¡å¼
bun run test:watch

# è¦†ç›–ç‡æŠ¥å‘Š
bun run test:coverage
```

### E2E æµ‹è¯•
```bash
# è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
bun run e2e
```

## ğŸ› è°ƒè¯•

### å¼€å‘å·¥å…·
- Angular DevTools
- Redux DevTools (Akita)
- Console æ—¥å¿—ç³»ç»Ÿ

### å¸¸è§é—®é¢˜
1. **WebSocket è¿æ¥å¤±è´¥**: æ£€æŸ¥åç«¯æœåŠ¡çŠ¶æ€å’Œ Token æœ‰æ•ˆæ€§
2. **ç»„ä»¶åŠ è½½å¼‚å¸¸**: æ£€æŸ¥ä¾èµ–æ³¨å…¥é…ç½®å’Œç»„ä»¶æ³¨å†Œ
3. **API è°ƒç”¨é”™è¯¯**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œæƒé™é…ç½®

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### ä»£ç åˆ†å‰²
- è·¯ç”±çº§åˆ«æ‡’åŠ è½½
- ç»„ä»¶æŒ‰éœ€åŠ è½½
- ç¬¬ä¸‰æ–¹åº“åˆ†ç¦»

### ç¼“å­˜ç­–ç•¥
- HTTP ç¼“å­˜é…ç½®
- é™æ€èµ„æºç¼“å­˜
- Service Worker (å¯é€‰)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. éµå¾ª Angular ä»£ç è§„èŒƒ
2. ç¼–å†™å•å…ƒæµ‹è¯•
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. æäº¤å‰è¿›è¡Œç±»å‹æ£€æŸ¥

## ğŸ“„ è®¸å¯è¯

UNLICENSED - ä»…ä¾›å†…éƒ¨ä½¿ç”¨