query WeiboSearchTasks(
  $page: Int
  $limit: Int
  $status: WeiboSearchTaskStatus
  $keyword: String
  $enabled: Boolean
  $sortBy: String
  $sortOrder: String
) {
  weiboSearchTasks(
    filter: {
      page: $page
      limit: $limit
      status: $status
      keyword: $keyword
      enabled: $enabled
      sortBy: $sortBy
      sortOrder: $sortOrder
    }
  ) {
    edges {
      node {
        id
        keyword
        status
        enabled
        startDate
        progress
        totalSegments
        enableAccountRotation
        weiboAccountId
        maxRetries
        retryCount
        nextRunAt
        latestCrawlTime
        currentCrawlTime
        errorMessage
        createdAt
        updatedAt
      }
    }
    totalCount
  }
}

query WeiboSearchTask($id: Int!) {
  weiboSearchTask(id: $id) {
    id
    keyword
    status
    enabled
    startDate
    progress
    totalSegments
    enableAccountRotation
    weiboAccountId
    maxRetries
    retryCount
    nextRunAt
    latestCrawlTime
    currentCrawlTime
    errorMessage
    createdAt
    updatedAt
  }
}

query WeiboSearchTaskStats {
  weiboSearchTaskStats {
    total
    enabled
    running
    paused
    completed
    failed
  }
}

mutation CreateWeiboSearchTask($input: CreateWeiboSearchTaskInput!) {
  createWeiboSearchTask(input: $input) {
    id
    keyword
    status
    enabled
    startDate
    createdAt
  }
}

mutation UpdateWeiboSearchTask($id: Int!, $input: UpdateWeiboSearchTaskInput!) {
  updateWeiboSearchTask(id: $id, input: $input) {
    id
    keyword
    status
    enabled
    startDate
    progress
    totalSegments
    updatedAt
  }
}

mutation PauseWeiboSearchTask($id: Int!, $input: PauseWeiboTaskInput) {
  pauseWeiboSearchTask(id: $id, input: $input) {
    id
    status
    updatedAt
  }
}

mutation ResumeWeiboSearchTask($id: Int!, $input: ResumeWeiboTaskInput) {
  resumeWeiboSearchTask(id: $id, input: $input) {
    id
    status
    updatedAt
  }
}

mutation RunWeiboSearchTaskNow($id: Int!, $input: RunWeiboTaskNowInput) {
  runWeiboSearchTaskNow(id: $id, input: $input) {
    id
    status
    nextRunAt
    updatedAt
  }
}

mutation RemoveWeiboSearchTask($id: Int!) {
  removeWeiboSearchTask(id: $id)
}
