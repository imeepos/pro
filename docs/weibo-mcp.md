# å¾®åš MCP è‡ªåŠ¨åŒ–æ“ä½œç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°

åŸºäº MCP (Model Context Protocol) åè®®ï¼Œå®ç°ä¸€ä¸ªå¾®åšè‡ªåŠ¨åŒ–æ“ä½œç³»ç»Ÿã€‚é€šè¿‡ Playwright + Cookie + AI å¤§æ¨¡å‹çš„ç»„åˆï¼Œè®© AI èƒ½å¤Ÿè‡ªä¸»åˆ†æé¡µé¢å¹¶æ‰§è¡Œæ“ä½œã€‚

## å½“å‰è¿›åº¦

- âœ… å·²è·å–å¾®åš Cookie
- ğŸ”² å¾…å®ç°ï¼šPlaywright + Cookie é¡µé¢æ¸²æŸ“
- ğŸ”² å¾…å®ç°ï¼šHTML åˆ†æä¸ AI å†³ç­–
- ğŸ”² å¾…å®ç°ï¼šæ“ä½œæ‰§è¡Œå¼•æ“

## æ ¸å¿ƒæ¶æ„

```
ç”¨æˆ·æŒ‡ä»¤ â†’ MCP Server â†’ Playwright æ¸²æŸ“ â†’ AI åˆ†æ HTML â†’ é€‰æ‹©æ“ä½œ â†’ æ‰§è¡ŒåŠ¨ä½œ â†’ åé¦ˆç»“æœ
```

## æŠ€æœ¯æ–¹æ¡ˆ

### 1. MCP Server å±‚
- åŸºäº MCP SDK åˆ›å»ºæœåŠ¡å™¨
- æä¾›å·¥å…·æ¥å£ä¾› Claude è°ƒç”¨
- ç®¡ç† Playwright æµè§ˆå™¨å®ä¾‹ç”Ÿå‘½å‘¨æœŸ

### 2. Playwright æµè§ˆå™¨æ§åˆ¶å±‚
- å¯åŠ¨æµè§ˆå™¨å®ä¾‹ï¼ˆheadless æˆ– æœ‰å¤´æ¨¡å¼ï¼‰
- æ³¨å…¥å·²æœ‰çš„å¾®åš Cookie
- å¯¼èˆªåˆ°ç›®æ ‡ç½‘å€
- è·å–æ¸²æŸ“åçš„ HTML/æˆªå›¾

### 3. AI å†³ç­–å±‚
- å°†å½“å‰é¡µé¢çŠ¶æ€ï¼ˆHTML/æˆªå›¾/å¯äº¤äº’å…ƒç´ ï¼‰å‘é€ç»™ AI
- AI åˆ†æå¯æ‰§è¡Œçš„æ“ä½œé€‰é¡¹
- æ ¹æ®ä»»åŠ¡ç›®æ ‡é€‰æ‹©ä¸‹ä¸€æ­¥æ“ä½œ

### 4. æ“ä½œæ‰§è¡Œå±‚
æ”¯æŒçš„æ“ä½œç±»å‹ï¼š
- **ç‚¹å‡»æ“ä½œ**ï¼šç‚¹å‡»æŒ‰é’®ã€é“¾æ¥ã€å…ƒç´ 
- **è¾“å…¥æ“ä½œ**ï¼šå¡«å†™è¡¨å•ã€è¾“å…¥æ¡†
- **æ»šåŠ¨æ“ä½œ**ï¼šé¡µé¢æ»šåŠ¨ã€åŠ è½½æ›´å¤š
- **å¯¼èˆªæ“ä½œ**ï¼šå‰è¿›ã€åé€€ã€åˆ·æ–°
- **ç­‰å¾…æ“ä½œ**ï¼šç­‰å¾…å…ƒç´ å‡ºç°ã€ç­‰å¾…åŠ è½½å®Œæˆ
- **æ•°æ®æå–**ï¼šæå–æ–‡æœ¬ã€é“¾æ¥ã€å›¾ç‰‡ç­‰ä¿¡æ¯

## ä»»åŠ¡æ‹†åˆ†

### é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„æ­å»ºï¼ˆä¾èµ–ï¼šæ— ï¼‰

#### ä»»åŠ¡ 1.1ï¼šåˆ›å»º MCP Server é¡¹ç›®ç»“æ„
- åˆ›å»ºç‹¬ç«‹çš„ MCP æœåŠ¡åŒ…
- é…ç½® TypeScript + MCP SDK ä¾èµ–
- å®šä¹‰åŸºç¡€é…ç½®æ–‡ä»¶

#### ä»»åŠ¡ 1.2ï¼šPlaywright é›†æˆ
- é›†æˆ Playwright åº“
- å®ç°æµè§ˆå™¨å®ä¾‹ç®¡ç†
- å®ç° Cookie æ³¨å…¥åŠŸèƒ½

#### ä»»åŠ¡ 1.3ï¼šå®šä¹‰ MCP Tools æ¥å£
- `weibo_navigate`ï¼šå¯¼èˆªåˆ°æŒ‡å®š URL
- `weibo_get_page_state`ï¼šè·å–å½“å‰é¡µé¢çŠ¶æ€
- `weibo_click`ï¼šç‚¹å‡»å…ƒç´ 
- `weibo_input`ï¼šè¾“å…¥æ–‡æœ¬
- `weibo_scroll`ï¼šæ»šåŠ¨é¡µé¢
- `weibo_extract_data`ï¼šæå–æ•°æ®

### é˜¶æ®µäºŒï¼šé¡µé¢åˆ†æèƒ½åŠ›ï¼ˆä¾èµ–ï¼šé˜¶æ®µä¸€å®Œæˆï¼‰

#### ä»»åŠ¡ 2.1ï¼šHTML ç®€åŒ–ä¸ç»“æ„åŒ–
- æå–å¯äº¤äº’å…ƒç´ ï¼ˆæŒ‰é’®ã€é“¾æ¥ã€è¾“å…¥æ¡†ï¼‰
- ä¸ºæ¯ä¸ªå…ƒç´ ç”Ÿæˆå”¯ä¸€æ ‡è¯†ç¬¦
- ç§»é™¤æ— å…³çš„æ ·å¼å’Œè„šæœ¬å†…å®¹
- ç”Ÿæˆç®€åŒ–çš„ DOM æ ‘ç»“æ„

#### ä»»åŠ¡ 2.2ï¼šé¡µé¢çŠ¶æ€æè¿°
- æå–é¡µé¢æ ‡é¢˜å’Œä¸»è¦å†…å®¹
- è¯†åˆ«å½“å‰é¡µé¢ç±»å‹ï¼ˆé¦–é¡µ/æœç´¢é¡µ/è¯¦æƒ…é¡µç­‰ï¼‰
- åˆ—å‡ºæ‰€æœ‰å¯æ‰§è¡Œæ“ä½œçš„å…ƒç´ åˆ—è¡¨

#### ä»»åŠ¡ 2.3ï¼šè§†è§‰è¾…åŠ©ï¼ˆå¯é€‰ï¼‰
- ç”Ÿæˆé¡µé¢æˆªå›¾
- åœ¨æˆªå›¾ä¸Šæ ‡æ³¨å¯äº¤äº’å…ƒç´ 
- æä¾›è§†è§‰ + æ–‡æœ¬çš„åŒé‡è¾“å…¥

### é˜¶æ®µä¸‰ï¼šæ“ä½œæ‰§è¡Œå¼•æ“ï¼ˆä¾èµ–ï¼šé˜¶æ®µä¸€å®Œæˆï¼‰

#### ä»»åŠ¡ 3.1ï¼šå…ƒç´ å®šä½å™¨
- å®ç°å¤šç§é€‰æ‹©å™¨ç­–ç•¥ï¼ˆCSSã€XPathã€æ–‡æœ¬ï¼‰
- å…ƒç´ å¯è§æ€§æ£€æŸ¥
- æ™ºèƒ½ç­‰å¾…ä¸é‡è¯•æœºåˆ¶

#### ä»»åŠ¡ 3.2ï¼šæ“ä½œæ‰§è¡Œå™¨
- å®ç°ç‚¹å‡»æ“ä½œï¼ˆæ™®é€šç‚¹å‡»ã€å³é”®ã€åŒå‡»ï¼‰
- å®ç°è¾“å…¥æ“ä½œï¼ˆè¾“å…¥ã€æ¸…ç©ºã€æŒ‰é”®ï¼‰
- å®ç°æ»šåŠ¨æ“ä½œï¼ˆæ»šåŠ¨åˆ°å…ƒç´ ã€æ»šåŠ¨è·ç¦»ï¼‰
- å®ç°å¯¼èˆªæ“ä½œï¼ˆåé€€ã€å‰è¿›ã€åˆ·æ–°ï¼‰

#### ä»»åŠ¡ 3.3ï¼šæ“ä½œéªŒè¯ä¸åé¦ˆ
- æ“ä½œå‰éªŒè¯å…ƒç´ çŠ¶æ€
- æ“ä½œåç¡®è®¤ç»“æœ
- é”™è¯¯å¤„ç†ä¸é‡è¯•

### é˜¶æ®µå››ï¼šAI å†³ç­–é›†æˆï¼ˆä¾èµ–ï¼šé˜¶æ®µäºŒã€é˜¶æ®µä¸‰å®Œæˆï¼‰

#### ä»»åŠ¡ 4.1ï¼šæç¤ºè¯å·¥ç¨‹
- è®¾è®¡ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿
- å®šä¹‰æ“ä½œé€‰æ‹©çš„è¾“å‡ºæ ¼å¼
- æä¾›ä»»åŠ¡ä¸Šä¸‹æ–‡å’Œå†å²è®°å½•

#### ä»»åŠ¡ 4.2ï¼šå†³ç­–å¾ªç¯
- è·å–å½“å‰é¡µé¢çŠ¶æ€
- å‘é€ç»™ AI åˆ†æ
- è§£æ AI è¿”å›çš„æ“ä½œæŒ‡ä»¤
- æ‰§è¡Œæ“ä½œå¹¶è·å–åé¦ˆ
- å¾ªç¯ç›´åˆ°ä»»åŠ¡å®Œæˆ

#### ä»»åŠ¡ 4.3ï¼šä»»åŠ¡ç®¡ç†
- ä»»åŠ¡ç›®æ ‡è·Ÿè¸ª
- æ“ä½œå†å²è®°å½•
- æˆåŠŸ/å¤±è´¥åˆ¤å®š

### é˜¶æ®µäº”ï¼šå¾®åšç‰¹å®šåŠŸèƒ½ï¼ˆä¾èµ–ï¼šé˜¶æ®µå››å®Œæˆï¼‰

#### ä»»åŠ¡ 5.1ï¼šå¾®åšå¸¸è§æ“ä½œå°è£…
- å‘å¸ƒå¾®åš
- æœç´¢å†…å®¹
- ç‚¹èµ/è¯„è®º/è½¬å‘
- å…³æ³¨/å–å…³ç”¨æˆ·
- æµè§ˆçƒ­æœ

#### ä»»åŠ¡ 5.2ï¼šæ•°æ®é‡‡é›†
- é‡‡é›†å¾®åšå†…å®¹
- é‡‡é›†ç”¨æˆ·ä¿¡æ¯
- é‡‡é›†è¯„è®ºæ•°æ®
- é‡‡é›†çƒ­æœæ•°æ®

#### ä»»åŠ¡ 5.3ï¼šåçˆ¬è™«å¤„ç†
- éšæœºå»¶è¿Ÿ
- è¡Œä¸ºæ¨¡æ‹Ÿï¼ˆé¼ æ ‡ç§»åŠ¨ã€æ»šåŠ¨ï¼‰
- è¯·æ±‚é¢‘ç‡æ§åˆ¶

### é˜¶æ®µå…­ï¼šæµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆä¾èµ–ï¼šé˜¶æ®µäº”å®Œæˆï¼‰

#### ä»»åŠ¡ 6.1ï¼šå•å…ƒæµ‹è¯•
- MCP Server æ¥å£æµ‹è¯•
- Playwright æ“ä½œæµ‹è¯•
- å…ƒç´ å®šä½æµ‹è¯•

#### ä»»åŠ¡ 6.2ï¼šé›†æˆæµ‹è¯•
- å®Œæ•´ä»»åŠ¡æµç¨‹æµ‹è¯•
- å¼‚å¸¸åœºæ™¯æµ‹è¯•
- æ€§èƒ½æµ‹è¯•

#### ä»»åŠ¡ 6.3ï¼šæ–‡æ¡£ä¸ç¤ºä¾‹
- API æ–‡æ¡£
- ä½¿ç”¨ç¤ºä¾‹
- æœ€ä½³å®è·µ

## æ‰§è¡Œé¡ºåº

```
é˜¶æ®µä¸€ï¼ˆ1.1 â†’ 1.2 â†’ 1.3ï¼‰
    â†“
é˜¶æ®µäºŒï¼ˆ2.1 â†’ 2.2 â†’ 2.3å¯é€‰ï¼‰å¹¶è¡Œ é˜¶æ®µä¸‰ï¼ˆ3.1 â†’ 3.2 â†’ 3.3ï¼‰
    â†“
é˜¶æ®µå››ï¼ˆ4.1 â†’ 4.2 â†’ 4.3ï¼‰
    â†“
é˜¶æ®µäº”ï¼ˆ5.1 å¹¶è¡Œ 5.2 å¹¶è¡Œ 5.3ï¼‰
    â†“
é˜¶æ®µå…­ï¼ˆ6.1 â†’ 6.2 â†’ 6.3ï¼‰
```

## æ ¸å¿ƒæŠ€æœ¯æ·±åº¦åˆ†æ

### 1. Accessibility Tree æ–¹æ¡ˆï¼ˆMicrosoft Playwright MCPï¼‰

**ä¸ºä»€ä¹ˆç”¨ Accessibility Tree è€Œä¸æ˜¯ HTMLï¼Ÿ**

| å¯¹æ¯”é¡¹ | HTML åˆ†æ | Accessibility Tree |
|--------|-----------|-------------------|
| æ•°æ®é‡ | å®Œæ•´ DOMï¼ˆåŒ…å«æ ·å¼ã€è„šæœ¬ã€å…ƒæ•°æ®ï¼‰ | ä»…å¯äº¤äº’å…ƒç´  |
| å¤„ç†é€Ÿåº¦ | æ…¢ï¼ˆéœ€è¦è§£æå¤§é‡æ— å…³å†…å®¹ï¼‰ | å¿«ï¼ˆç²¾ç®€åçš„æ ‘ç»“æ„ï¼‰ |
| Token æ¶ˆè€— | é«˜ï¼ˆå¤§é‡ HTML æ ‡ç­¾ï¼‰ | ä½ï¼ˆYAML æ ¼å¼ï¼Œç²¾ç®€ï¼‰ |
| å‡†ç¡®æ€§ | å¯èƒ½åŒ…å«éšè—/ä¸å¯ç”¨å…ƒç´  | ä»…åŒ…å«çœŸæ­£å¯è®¿é—®çš„å…ƒç´  |

**æ ¸å¿ƒ API**ï¼š
```typescript
// è·å–é¡µé¢çš„ accessibility snapshotï¼ˆYAML æ ¼å¼ï¼‰
const snapshot = await locator.ariaSnapshot();

// ç¤ºä¾‹è¾“å‡ºï¼š
// - button "ç™»å½•" [ref=1]
// - textbox "ç”¨æˆ·å" [ref=2]
// - link "å¿˜è®°å¯†ç " [ref=3]
```

**ä¼˜åŠ¿**ï¼š
- âœ… è‡ªåŠ¨è¿‡æ»¤ä¸å¯è§å’Œä¸å¯ç”¨çš„å…ƒç´ 
- âœ… æä¾›è¯­ä¹‰åŒ–çš„å…ƒç´ æè¿°ï¼ˆrole + nameï¼‰
- âœ… ç”Ÿæˆå”¯ä¸€çš„ ref å¼•ç”¨ï¼Œä¾¿äº AI é€‰æ‹©æ“ä½œ
- âœ… Chromium ä¼šä¸¢å¼ƒå±å¹•é˜…è¯»å™¨ä¸ç”¨çš„èŠ‚ç‚¹ï¼ˆæ›´è½»é‡ï¼‰

**å®ç°æ¶æ„**ï¼š
```
é¡µé¢åŠ è½½ â†’ ç”Ÿæˆ Accessibility Snapshot â†’ æå– YAML ç»“æ„
  â†’ å‘é€ç»™ AI åˆ†æ â†’ AI è¿”å› ref ç¼–å· â†’ é€šè¿‡ ref æ‰§è¡Œæ“ä½œ
```

### 2. åçˆ¬è™«å¤„ç†æ–¹æ¡ˆï¼ˆbrowser-useï¼‰

**æ ¸å¿ƒç­–ç•¥**ï¼š

#### æ–¹å¼ä¸€ï¼šäº‘æœåŠ¡ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰
```python
from browser_use import Agent, Browser

browser = Browser(
    use_cloud=True,  # ä½¿ç”¨æ‰˜ç®¡æµè§ˆå™¨æœåŠ¡
)
```
- ğŸ’° è´¹ç”¨ï¼š$30/æœˆ
- âœ… ä¼˜åŠ¿ï¼šè‡ªåŠ¨æ›´æ–°ç»•è¿‡ç­–ç•¥ï¼Œæ— éœ€ç»´æŠ¤
- âœ… é€‚ç”¨ï¼šç»•è¿‡ Cloudflareã€PerimeterX ç­‰ä¸»æµåçˆ¬è™«

#### æ–¹å¼äºŒï¼šè‡ªå»ºæ–¹æ¡ˆï¼ˆæŠ€æœ¯è¦ç‚¹ï¼‰

**a. æµè§ˆå™¨æŒ‡çº¹ä¼ªè£…**
- TLS æŒ‡çº¹ä¸€è‡´æ€§ï¼ˆç¡®ä¿ TLS æ¡æ‰‹ä¸çœŸå®æµè§ˆå™¨ä¸€è‡´ï¼‰
- HTTP/2 æŒ‡çº¹ä¸€è‡´æ€§ï¼ˆè¯·æ±‚å¤´é¡ºåºã€å¤§å°å†™ï¼‰
- WebGL/Canvas æŒ‡çº¹éšæœºåŒ–

**b. Session ç®¡ç†**
- Cookie æŒä¹…åŒ–å­˜å‚¨
- User-Agent ä¸ Cookie ä¿æŒä¸€è‡´
- ä¿æŒä¼šè¯çš„æµè§ˆå™¨ä¸Šä¸‹æ–‡ï¼ˆBrowserContextï¼‰

**c. è¡Œä¸ºæ¨¡æ‹Ÿ**
```typescript
// éšæœºå»¶è¿Ÿ
await page.waitForTimeout(Math.random() * 2000 + 1000);

// é¼ æ ‡è½¨è¿¹æ¨¡æ‹Ÿ
await page.mouse.move(x1, y1);
await page.mouse.move(x2, y2, { steps: 10 });

// äººç±»åŒ–çš„æ»šåŠ¨
await page.evaluate(() => {
  window.scrollBy({
    top: 300,
    behavior: 'smooth'
  });
});
```

**d. é¢‘ç‡æ§åˆ¶**
- è¯·æ±‚é—´éš”ï¼š2-5 ç§’éšæœºå»¶è¿Ÿ
- å¹¶å‘é™åˆ¶ï¼šå•è´¦å·é¿å…å¤šæ ‡ç­¾é¡µåŒæ—¶æ“ä½œ
- æ—¶æ®µæ§åˆ¶ï¼šé¿å…æ·±å¤œé«˜é¢‘æ“ä½œ

**âš ï¸ æ³¨æ„äº‹é¡¹**ï¼š
- å¼€æºæ–¹æ¡ˆå®¹æ˜“è¢« Cloudflare ç ”ç©¶åå°å µ
- ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ä¸“ä¸šæœåŠ¡ï¼ˆbrowser-use cloud / BrowserBase / ScrapingBeeï¼‰
- å¾®åšçš„åçˆ¬è™«ç›¸å¯¹æ¸©å’Œï¼Œä¸»è¦å…³æ³¨ï¼šCookie æœ‰æ•ˆæ€§ã€è¯·æ±‚é¢‘ç‡ã€User-Agent

### 3. æ··åˆæ¨¡å¼è®¾è®¡ï¼ˆStagehandï¼‰

**æ ¸å¿ƒæ€æƒ³**ï¼š**ç†Ÿæ‚‰ç”¨ä»£ç ï¼Œé™Œç”Ÿç”¨ AI**

**ä¸‰å¤§ AI æ–¹æ³•**ï¼š

```typescript
import { Stagehand } from "@browserbasehq/stagehand";

const stagehand = new Stagehand();
await stagehand.init();
const page = stagehand.page;

// 1. act() - æ‰§è¡Œå•ä¸ªæ“ä½œ
await page.act("ç‚¹å‡»ç™»å½•æŒ‰é’®");
await page.act("åœ¨ç”¨æˆ·åè¾“å…¥æ¡†è¾“å…¥: test@example.com");

// 2. extract() - æå–æ•°æ®
const data = await page.extract({
  instruction: "æå–æ‰€æœ‰å¾®åšçš„æ ‡é¢˜å’Œç‚¹èµæ•°",
  schema: z.object({
    posts: z.array(z.object({
      title: z.string(),
      likes: z.number()
    }))
  })
});

// 3. observe() - è§‚å¯Ÿé¡µé¢çŠ¶æ€
const observation = await page.observe();
```

**æ··åˆæ¨¡å¼ç¤ºä¾‹**ï¼š

```typescript
// å·²çŸ¥æµç¨‹ï¼šç”¨ Playwright ä»£ç ï¼ˆå¿«é€Ÿã€å¯é ï¼‰
await page.goto('https://weibo.com');
await page.fill('#username', 'myuser');
await page.fill('#password', 'mypass');
await page.click('button[type="submit"]');

// æœªçŸ¥é¡µé¢ï¼šç”¨ AIï¼ˆçµæ´»ã€é€‚åº”æ€§å¼ºï¼‰
await page.act("æ‰¾åˆ°çƒ­æœæ¦œå•å¹¶ç‚¹å‡»ç¬¬ä¸€ä¸ªè¯é¢˜");
await page.act("æ»šåŠ¨åˆ°è¯„è®ºåŒº");

// æ•°æ®æå–ï¼šç”¨ extractï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰
const comments = await page.extract({
  instruction: "æå–å‰10æ¡è¯„è®ºçš„å†…å®¹å’Œç‚¹èµæ•°",
  schema: commentSchema
});

// ç»§ç»­å·²çŸ¥æ“ä½œï¼šå›åˆ°ä»£ç 
await page.goBack();
await page.click('.home-button');
```

**ä¼˜åŠ¿å¯¹æ¯”**ï¼š

| åœºæ™¯ | ä¼ ç»Ÿ Playwright | Stagehand æ··åˆæ¨¡å¼ |
|------|----------------|-------------------|
| ç™»å½•è¡¨å•ï¼ˆå·²çŸ¥ç»“æ„ï¼‰ | âœ… å¿«é€Ÿã€ç²¾ç¡® | âœ… ä»£ç æ¨¡å¼ï¼ŒåŒæ ·å¿« |
| å¤æ‚é¡µé¢ï¼ˆæœªçŸ¥ç»“æ„ï¼‰ | âŒ éœ€è¦åˆ†æ DOM | âœ… AI è‡ªåŠ¨è¯†åˆ« |
| æ•°æ®æå–ï¼ˆç»“æ„åŒ–ï¼‰ | âŒ éœ€è¦å†™é€‰æ‹©å™¨ | âœ… è‡ªç„¶è¯­è¨€æè¿° |
| ç”Ÿäº§ç¨³å®šæ€§ | âœ… å¯æ§ | âœ… ä»£ç +AI ç»“åˆï¼Œå¯æ§ä¸”çµæ´» |

**é€‚ç”¨åœºæ™¯**ï¼š
- âœ… å¤šç½‘ç«™çˆ¬è™«ï¼ˆæ¯ä¸ªç½‘ç«™ç»“æ„ä¸åŒï¼‰
- âœ… åŠ¨æ€å˜åŒ–çš„é¡µé¢ï¼ˆéœ€è¦é€‚åº”æ€§ï¼‰
- âœ… å¿«é€ŸåŸå‹å¼€å‘ï¼ˆå‡å°‘é€‰æ‹©å™¨ç¼–å†™ï¼‰

## å‚è€ƒé¡¹ç›®

### 1. Microsoft Playwright MCP â­ï¼ˆå®˜æ–¹ï¼‰
- **ä»“åº“**ï¼šhttps://github.com/microsoft/playwright-mcp
- **NPM**ï¼š@playwright/mcp
- **ç‰¹ç‚¹**ï¼š
  - å®˜æ–¹å®ç°çš„ MCP + Playwright é›†æˆ
  - ä½¿ç”¨æµè§ˆå™¨çš„ **accessibility tree** è€Œéæˆªå›¾
  - æä¾›ç»“æ„åŒ–çš„é¡µé¢å¿«ç…§
  - 2025å¹´3æœˆå‘å¸ƒï¼ŒæŒç»­æ›´æ–°ä¸­

### 2. browser-use
- **ä»“åº“**ï¼šhttps://github.com/browser-use/browser-use
- **ç‰¹ç‚¹**ï¼š
  - è®© AI ä»£ç†èƒ½è®¿é—®å’Œæ“ä½œç½‘ç«™
  - æ”¯æŒå¤šç§ LLMï¼ˆOpenAI GPT-4ã€Anthropic Claudeã€Meta Llamaï¼‰
  - æä¾›äº‘æœåŠ¡ç»•è¿‡ Cloudflare å’Œåçˆ¬è™«
  - Python å®ç°ï¼š`pip install browser-use`

### 3. Stagehandï¼ˆbrowserbaseï¼‰
- **ä»“åº“**ï¼šhttps://github.com/browserbase/stagehand
- **ç‰¹ç‚¹**ï¼š
  - AI æµè§ˆå™¨è‡ªåŠ¨åŒ–æ¡†æ¶
  - æ··åˆæ¨¡å¼ï¼šç†Ÿæ‚‰çš„ç”¨ä»£ç ï¼Œé™Œç”Ÿçš„ç”¨ AI
  - åœ¨ AI å’Œä¼ ç»Ÿ Playwright ä¹‹é—´çµæ´»åˆ‡æ¢

### 4. playwright-browser-agent
- **ä»“åº“**ï¼šhttps://github.com/leoch95/playwright-browser-agent
- **ç‰¹ç‚¹**ï¼š
  - åŸºäº LangGraph + LiteLLM
  - Playwright æµè§ˆå™¨æ§åˆ¶
  - LLM é©±åŠ¨çš„æ™ºèƒ½å†³ç­–

### 5. Skyvern
- **ä»“åº“**ï¼šhttps://github.com/Skyvern-AI/skyvern
- **ç‰¹ç‚¹**ï¼š
  - LLM + è®¡ç®—æœºè§†è§‰
  - åŸºäº Task-Driven autonomous agent è®¾è®¡
  - ä½¿ç”¨ Playwright è¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–

### 6. playwright-computer-use
- **ä»“åº“**ï¼šhttps://github.com/invariantlabs-ai/playwright-computer-use
- **ç‰¹ç‚¹**ï¼š
  - è®© Claude ç›´æ¥æ§åˆ¶æµè§ˆå™¨
  - è¿æ¥ Playwright åˆ° Claude çš„ computer use èƒ½åŠ›

## æŠ€æœ¯æ ˆ

- **MCP SDK**ï¼š@modelcontextprotocol/sdk
- **Playwright**ï¼šæµè§ˆå™¨è‡ªåŠ¨åŒ–
- **TypeScript**ï¼šç±»å‹å®‰å…¨
- **Zod**ï¼šå‚æ•°éªŒè¯

## æ³¨æ„äº‹é¡¹

1. **Cookie å®‰å…¨**ï¼šCookie åº”è¯¥åŠ å¯†å­˜å‚¨ï¼Œä¸è¦ç¡¬ç¼–ç 
2. **é¢‘ç‡é™åˆ¶**ï¼šé¿å…è¿‡å¿«æ“ä½œè§¦å‘åçˆ¬è™«
3. **é”™è¯¯å¤„ç†**ï¼šç½‘ç»œé”™è¯¯ã€å…ƒç´ æ‰¾ä¸åˆ°ã€æ“ä½œå¤±è´¥éƒ½è¦å¦¥å–„å¤„ç†
4. **èµ„æºç®¡ç†**ï¼šåŠæ—¶å…³é—­æµè§ˆå™¨å®ä¾‹ï¼Œé¿å…å†…å­˜æ³„æ¼
5. **æ—¥å¿—è®°å½•**ï¼šè®°å½•æ‰€æœ‰æ“ä½œå’Œå†³ç­–è¿‡ç¨‹ï¼Œä¾¿äºè°ƒè¯•

## å¾…è®¨è®ºé—®é¢˜

1. MCP Server æ˜¯ç‹¬ç«‹æœåŠ¡è¿˜æ˜¯é›†æˆåˆ°ç°æœ‰é¡¹ç›®ï¼Ÿ
2. æµè§ˆå™¨å®ä¾‹æ˜¯é•¿æœŸä¿æŒè¿˜æ˜¯æŒ‰éœ€åˆ›å»ºï¼Ÿ
3. Cookie å­˜å‚¨æ–¹å¼å’Œæ›´æ–°æœºåˆ¶ï¼Ÿ
4. å¦‚ä½•å®šä¹‰"ä»»åŠ¡å®Œæˆ"çš„æ ‡å‡†ï¼Ÿ
5. éœ€è¦æ”¯æŒå¤šè´¦å·å¹¶å‘æ“ä½œå—ï¼Ÿ
6. æ˜¯å¦éœ€è¦éªŒè¯ç å¤„ç†æœºåˆ¶ï¼Ÿ

## ä¸‹ä¸€æ­¥

è¯·ç¡®è®¤ï¼š
1. è¿™ä¸ªæ–¹æ¡ˆæ˜¯å¦ç¬¦åˆä½ çš„é¢„æœŸï¼Ÿ
2. æœ‰å“ªäº›éœ€è¦è°ƒæ•´æˆ–è¡¥å……çš„åœ°æ–¹ï¼Ÿ
3. ä¼˜å…ˆçº§æœ€é«˜çš„æ˜¯å“ªä¸ªéƒ¨åˆ†ï¼Ÿ
