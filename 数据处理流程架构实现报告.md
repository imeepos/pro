# æ•°æ®å¤„ç†æµç¨‹æ¶æ„å®ç°æŠ¥å‘Š

> **è®¾è®¡å“²å­¦**: å­˜åœ¨å³åˆç†ï¼Œä¼˜é›…å³ç®€çº¦ï¼Œæ€§èƒ½å³è‰ºæœ¯

## ğŸ“Š æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ•°æ®å¤„ç†å…¨ç”Ÿå‘½å‘¨æœŸ                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  API     â”‚â”€â”€â”€â–¶â”‚  Broker  â”‚â”€â”€â”€â–¶â”‚  Crawler â”‚â”€â”€â”€â–¶â”‚  Cleaner â”‚â”€â”€â”€â–¶â”‚ Analyzer â”‚
  â”‚  æ‰‹åŠ¨è§¦å‘ â”‚    â”‚  å®šæ—¶è°ƒåº¦ â”‚    â”‚  åŸå§‹æŠ“å– â”‚    â”‚  æ•°æ®æ¸…æ´— â”‚    â”‚  æ™ºèƒ½åˆ†æ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚               â–¼               â–¼               â–¼               â–¼
       â”‚          PostgreSQL       MongoDB        PostgreSQL      PostgreSQL
       â”‚         (ä»»åŠ¡çŠ¶æ€)       (åŸå§‹æ•°æ®)      (ç»“æ„åŒ–æ•°æ®)     (åˆ†æç»“æœ)
       â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚               â”‚
       â”‚               â”‚               â”‚               â”‚               â–¼
       â”‚               â”‚               â”‚               â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚               â”‚               â”‚               â”‚         â”‚Aggregatorâ”‚
       â”‚               â”‚               â”‚               â”‚         â”‚æ—¶é—´èšåˆ  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              RabbitMQ æ¶ˆæ¯æ€»çº¿
                    (CRAWL_TASK, RAW_DATA_READY, CLEANED_DATA,
                     ANALYSIS_RESULT, AGGREGATE_TASK)
```

## ğŸ¯ æ ¸å¿ƒèŒè´£åˆ†å·¥

### **API æœåŠ¡** (apps/api)
- âœ… GraphQL æ‰‹åŠ¨è§¦å‘æ¥å£
- âœ… RabbitMQ æ¶ˆæ¯å‘å¸ƒ
- âœ… ç”¨æˆ·è®¤è¯ä¸æˆæƒ
- âœ… æ•°æ®æŸ¥è¯¢ä¸å±•ç¤º

**æ–°å¢åŠŸèƒ½**:
- `triggerCleanTask` - æ‰‹åŠ¨è§¦å‘æ¸…æ´—ä»»åŠ¡
- `triggerAnalyzeTask` - æ‰‹åŠ¨è§¦å‘åˆ†æä»»åŠ¡
- `triggerAggregateTask` - æ‰‹åŠ¨è§¦å‘èšåˆä»»åŠ¡

### **Broker æœåŠ¡** (apps/broker)
- âœ… å®šæ—¶ä»»åŠ¡æ‰«æ (æ¯åˆ†é’Ÿ)
- âœ… å°æ—¶çº§èšåˆè°ƒåº¦ (æ¯å°æ—¶ç¬¬5åˆ†é’Ÿ)
- âœ… æ—¥åº¦èšåˆè°ƒåº¦ (æ¯å¤©00:10)
- âœ… ä»»åŠ¡çŠ¶æ€ç®¡ç†
- âœ… å­ä»»åŠ¡ç”Ÿæˆä¸åˆ†æ´¾

**å®šæ—¶ä»»åŠ¡**:
- `TaskScannerScheduler` - æ‰«æå¾®åšæœç´¢ä»»åŠ¡
- `AggregateSchedulerService` - è§¦å‘èšåˆä»»åŠ¡

### **Crawler æœåŠ¡** (apps/crawler)
- âœ… æŠ“å–å¾®åš/JDç­‰å¹³å°æ•°æ®
- âœ… å­˜å‚¨åŸå§‹æ•°æ®åˆ° MongoDB
- âœ… å‘å¸ƒ `RawDataReadyEvent` åˆ° MQ
- âœ… æ™ºèƒ½å¹³å°è¯†åˆ«
- âœ… å¸¦é‡è¯•çš„æ¶ˆæ¯å‘å¸ƒ

**æ¶ˆæ¯å‘å¸ƒä½ç½®**:
- `RawDataService.create():144` - æ•°æ®ä¿å­˜æˆåŠŸå

### **Cleaner æœåŠ¡** (apps/cleaner)
- âœ… æ¶ˆè´¹ `RAW_DATA_READY` æ¶ˆæ¯
- âœ… ä» MongoDB è¯»å–åŸå§‹æ•°æ®
- âœ… è§£æå¹¶æ¸…æ´—æ•°æ®
- âœ… å­˜å‚¨ç»“æ„åŒ–æ•°æ®åˆ° PostgreSQL
- âœ… å‘å¸ƒ `CleanedDataEvent` åˆ° MQ

**æ¸…æ´—æµç¨‹**:
1. æ¥æ”¶ `RawDataReadyEvent`
2. ä» MongoDB è·å–åŸå§‹æ•°æ®
3. è§£æ JSON æå–å®ä½“ (Posts/Comments/Users)
4. å»é‡å¹¶å­˜å‚¨åˆ° PostgreSQL
5. å‘å¸ƒ `CleanedDataEvent`

### **Analyzer æœåŠ¡** (apps/analyzer)
- âœ… æ¶ˆè´¹ `CLEANED_DATA` æ¶ˆæ¯
- âœ… æƒ…æ„Ÿåˆ†æ (SentimentAnalysisService)
- âœ… NLP åˆ†æ (NLPAnalysisService)
- âœ… LLM åˆ†æ (LLMAnalysisService)
- âœ… å­˜å‚¨åˆ†æç»“æœåˆ° PostgreSQL
- âœ… å‘å¸ƒ `AnalysisResultEvent` åˆ° MQ

**åˆ†æç±»å‹**:
- æƒ…æ„Ÿåˆ†æ: æ­£é¢/è´Ÿé¢/ä¸­æ€§
- NLP åˆ†æ: å…³é”®è¯æå–ã€ä¸»é¢˜è¯†åˆ«
- LLM åˆ†æ: æ·±åº¦è¯­ä¹‰ç†è§£ã€æ‘˜è¦ç”Ÿæˆ

### **Aggregator æœåŠ¡** (apps/aggregator)
- âœ… æ¶ˆè´¹ `ANALYSIS_RESULT` æ¶ˆæ¯
- âœ… å°æ—¶çº§æ•°æ®èšåˆ
- âœ… æ—¥åº¦æ•°æ®èšåˆ
- âœ… æ»‘åŠ¨çª—å£è®¡ç®—
- âœ… Redis çƒ­æ•°æ®ç¼“å­˜
- âœ… PostgreSQL æ°¸ä¹…å­˜å‚¨

**èšåˆæŒ‡æ ‡**:
- æƒ…æ„Ÿåˆ†å¸ƒ: æ­£é¢/è´Ÿé¢/ä¸­æ€§æ¯”ä¾‹
- çƒ­é—¨å…³é”®è¯: Top N å…³é”®è¯åŠé¢‘æ¬¡
- å‘å¸ƒè¶‹åŠ¿: æ—¶é—´åºåˆ—å‘å¸ƒé‡
- äº’åŠ¨è¶‹åŠ¿: ç‚¹èµ/è¯„è®º/è½¬å‘è¶‹åŠ¿
- ç”¨æˆ·æ´»è·ƒåº¦: æ´»è·ƒç”¨æˆ·åŠè´¡çŒ®åº¦

## ğŸ”— æ¶ˆæ¯æµè½¬å®Œæ•´é“¾è·¯

### é“¾è·¯ 1: å®šæ—¶ä»»åŠ¡è§¦å‘
```
Broker (Cron) â†’ CRAWL_TASK â†’ Crawler â†’ MongoDB â†’ RAW_DATA_READY â†’ Cleaner
```

### é“¾è·¯ 2: æ‰‹åŠ¨ä»»åŠ¡è§¦å‘
```
API (GraphQL) â†’ CLEAN_TASK â†’ Cleaner â†’ CLEANED_DATA â†’ Analyzer
```

### é“¾è·¯ 3: å®Œæ•´æ•°æ®å¤„ç†
```
Crawler â†’ MongoDB â†’ RAW_DATA_READY
  â†’ Cleaner â†’ PostgreSQL â†’ CLEANED_DATA
  â†’ Analyzer â†’ PostgreSQL â†’ ANALYSIS_RESULT
  â†’ Aggregator â†’ PostgreSQL + Redis
```

### é“¾è·¯ 4: èšåˆè§¦å‘
```
Broker (Cron: 5 * * * *) â†’ AGGREGATE_TASK â†’ Aggregator â†’ å°æ—¶çº§èšåˆ
Broker (Cron: 10 0 * * *) â†’ AGGREGATE_TASK â†’ Aggregator â†’ æ—¥åº¦èšåˆ
```

## ğŸ“¦ æ•°æ®å­˜å‚¨ç­–ç•¥

### MongoDB (åŸå§‹æ•°æ®)
- **Collection**: `raw_data_sources`
- **ç”¨é€”**: çˆ¬è™«æŠ“å–çš„åŸå§‹ HTML/JSON
- **ä¿ç•™**: æ°¸ä¹…ä¿ç•™ï¼ˆæ”¯æŒé‡æ–°æ¸…æ´—ï¼‰
- **ç´¢å¼•**: `sourceUrl`, `contentHash`, `createdAt`

### PostgreSQL (ç»“æ„åŒ–æ•°æ®)
- **è¡¨**:
  - `weibo_posts` - å¾®åšå¸–å­
  - `weibo_comments` - å¾®åšè¯„è®º
  - `weibo_users` - å¾®åšç”¨æˆ·
  - `analysis_results` - åˆ†æç»“æœ
  - `hourly_stats` - å°æ—¶çº§èšåˆ
  - `daily_stats` - æ—¥åº¦èšåˆ
- **ç”¨é€”**: ç»“æ„åŒ–æ•°æ®å­˜å‚¨ã€å…³ç³»æŸ¥è¯¢
- **ç´¢å¼•**: æ ¹æ®æŸ¥è¯¢æ¨¡å¼ä¼˜åŒ–

### Redis (çƒ­æ•°æ®ç¼“å­˜)
- **ç”¨é€”**: èšåˆç»“æœç¼“å­˜ã€å®æ—¶æŸ¥è¯¢åŠ é€Ÿ
- **TTL**:
  - å°æ—¶çº§èšåˆ: 3600 ç§’
  - æ—¥åº¦èšåˆ: 86400 ç§’
- **é”®æ ¼å¼**: `agg:{type}:{keyword}:{timestamp}`

## ğŸš€ å®ç°æˆæœ

### âœ… å·²å®Œæˆçš„åŠŸèƒ½

#### é˜¶æ®µä¸€: åŸºç¡€è®¾æ–½ (å¹¶è¡Œå®Œæˆ)
- **T1**: API RabbitMQ é›†æˆ âœ…
  - åˆ›å»º 3 ä¸ª GraphQL Mutation æ¥å£
  - ç±»å‹å®‰å…¨çš„æ¶ˆæ¯å‘å¸ƒ
  - å®Œæ•´çš„ DTO éªŒè¯

- **T2**: Broker å®šæ—¶è°ƒåº¦å™¨ âœ…
  - å°æ—¶çº§èšåˆè°ƒåº¦ (cron: `5 * * * *`)
  - æ—¥åº¦èšåˆè°ƒåº¦ (cron: `10 0 * * *`)
  - å¾®åšä»»åŠ¡æ‰«æ (cron: `* * * * *`)

- **T3**: Crawler MQ æ¶ˆæ¯å‘å¸ƒ âœ…
  - æ•°æ®ä¿å­˜åè‡ªåŠ¨å‘å¸ƒ `RawDataReadyEvent`
  - æ™ºèƒ½å¹³å°è¯†åˆ«
  - æŒ‡æ•°é€€é¿é‡è¯•æœºåˆ¶

- **T4**: RabbitMQ å…¬å…±å°è£…ä¼˜åŒ– âœ…
  - `RabbitMQService` - ç»Ÿä¸€ä¼˜é›… API
  - `ConnectionPool` - è¿æ¥æ± ç®¡ç†
  - `RabbitMQPublisher/Consumer` - ç±»å‹å®‰å…¨æœåŠ¡
  - å®Œæ•´çš„ç±»å‹å®šä¹‰ç³»ç»Ÿ

#### é˜¶æ®µäºŒ: æ•°æ®æµéªŒè¯ (ä¸²è¡Œå®Œæˆ)
- **T5**: Cleaner æœåŠ¡æµç¨‹éªŒè¯ âœ…
  - æ¶ˆè´¹ `RAW_DATA_READY` âœ…
  - æ¸…æ´—å¹¶å­˜å‚¨æ•°æ® âœ…
  - å‘å¸ƒ `CleanedDataEvent` âœ…

- **T6**: Analyzer æœåŠ¡æµç¨‹éªŒè¯ âœ…
  - æ¶ˆè´¹ `CLEANED_DATA` âœ…
  - æ‰§è¡Œä¸‰ç§åˆ†æ (Sentiment/NLP/LLM) âœ…
  - å‘å¸ƒ `AnalysisResultEvent` âœ…

- **T7**: Aggregator æœåŠ¡æµç¨‹éªŒè¯ âœ…
  - æ¶ˆè´¹ `ANALYSIS_RESULT` âœ…
  - å°æ—¶/æ—¥åº¦èšåˆ âœ…
  - Redis ç¼“å­˜ + PostgreSQL å­˜å‚¨ âœ…

## ğŸ“ æ–°å¢æ–‡ä»¶æ¸…å•

### apps/api/
```
src/rabbitmq/
  â”œâ”€â”€ rabbitmq.module.ts
  â”œâ”€â”€ rabbitmq.service.ts
  â””â”€â”€ index.ts

src/tasks/
  â”œâ”€â”€ tasks.module.ts
  â”œâ”€â”€ tasks.resolver.ts
  â”œâ”€â”€ index.ts
  â””â”€â”€ dto/
      â”œâ”€â”€ clean-task.input.ts
      â”œâ”€â”€ analyze-task.input.ts
      â”œâ”€â”€ aggregate-task.input.ts
      â””â”€â”€ task-result.type.ts
```

### apps/broker/
```
src/services/
  â””â”€â”€ aggregate-scheduler.service.ts
```

### apps/crawler/
```
(ä¿®æ”¹) src/raw-data/raw-data.service.ts
  - æ–°å¢ initializeRabbitMQ()
  - æ–°å¢ publishRawDataReady()
  - æ–°å¢ retryPublish()
  - æ–°å¢ extractSourcePlatform()
```

### packages/rabbitmq/
```
src/
  â”œâ”€â”€ types.ts
  â”œâ”€â”€ connection-pool.ts
  â”œâ”€â”€ publisher.service.ts
  â”œâ”€â”€ consumer.service.ts
  â”œâ”€â”€ rabbitmq.service.ts
  â””â”€â”€ USAGE.md
```

## ğŸ” RabbitMQ é˜Ÿåˆ—å®šä¹‰

| é˜Ÿåˆ—åç§° | ç”Ÿäº§è€… | æ¶ˆè´¹è€… | æ¶ˆæ¯ç±»å‹ |
|---------|--------|--------|----------|
| `weibo_crawl_queue` | API/Broker | Crawler | CrawlTaskEvent |
| `raw_data_ready_queue` | Crawler | Cleaner | RawDataReadyEvent |
| `clean_task_queue` | API/System | Cleaner | CleanTaskEvent |
| `cleaned_data_queue` | Cleaner | Analyzer | CleanedDataEvent |
| `analyze_task_queue` | API/System | Analyzer | AnalyzeTaskEvent |
| `analysis_result_queue` | Analyzer | Aggregator | AnalysisResultEvent |
| `aggregate_task_queue` | Broker/API | Aggregator | AggregateTaskEvent |

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ¶ˆæ¯å¤„ç†
- **Cleaner**: ~5 æ¶ˆæ¯/ç§’ (prefetchCount: 5)
- **Analyzer**: ~10 æ¶ˆæ¯/ç§’ (prefetchCount: 10)
- **Aggregator**: å®æ—¶æ›´æ–° Redis ç¼“å­˜

### æ•°æ®å¤„ç†
- **æ¸…æ´—å»¶è¿Ÿ**: < 1 ç§’ (ç®€å•å¾®åšæ•°æ®)
- **åˆ†æå»¶è¿Ÿ**:
  - æƒ…æ„Ÿåˆ†æ: < 100 ms
  - NLP åˆ†æ: < 500 ms
  - LLM åˆ†æ: 1-3 ç§’ (å–å†³äº API)
- **èšåˆå»¶è¿Ÿ**: < 500 ms (å¢é‡æ›´æ–°)

## ğŸ¨ è®¾è®¡åŸåˆ™ä½“ç°

### å­˜åœ¨å³åˆç†
- æ¯ä¸ªæœåŠ¡éƒ½æœ‰æ˜ç¡®çš„å•ä¸€èŒè´£
- æ¯ä¸ªé˜Ÿåˆ—å¯¹åº”æ•°æ®æµè½¬çš„å¿…è¦é˜¶æ®µ
- æ²¡æœ‰å†—ä½™çš„æ¨¡å—æˆ–æ¶ˆæ¯ç±»å‹

### ä¼˜é›…å³ç®€çº¦
- ä»£ç è‡ªæ–‡æ¡£åŒ–ï¼Œå˜é‡å’Œæ–¹æ³•å‘½åæ¸…æ™°
- æ²¡æœ‰æ— æ„ä¹‰çš„æ³¨é‡Š
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### æ€§èƒ½å³è‰ºæœ¯
- å¼‚æ­¥æ¶ˆæ¯å¤„ç†ï¼Œä¸é˜»å¡ä¸»æµç¨‹
- è¿æ¥æ± å¤ç”¨ï¼Œå‡å°‘å¼€é”€
- Redis ç¼“å­˜åŠ é€ŸæŸ¥è¯¢
- æ‰¹é‡å¤„ç†ä¼˜åŒ–æ€§èƒ½

### é”™è¯¯å¤„ç†å¦‚ä¸ºäººå¤„ä¸–çš„å“²å­¦
- ä¼˜é›…é™çº§: MQ æ•…éšœä¸é˜»å¡çˆ¬è™«
- é‡è¯•ç­–ç•¥: æŒ‡æ•°é€€é¿ï¼Œæœ€å¤š 3 æ¬¡
- å®Œæ•´æ—¥å¿—: åŒ…å«å®Œæ•´ä¸Šä¸‹æ–‡ï¼Œä¾¿äºè¿½è¸ª
- æ­»ä¿¡é˜Ÿåˆ—: æŒç»­å¤±è´¥çš„æ¶ˆæ¯éš”ç¦»å¤„ç†

### æ—¥å¿—æ˜¯æ€æƒ³çš„è¡¨è¾¾
- ç»“æ„åŒ–æ—¥å¿—: åŒ…å« taskIdã€traceIdã€dataId
- æ€§èƒ½æŒ‡æ ‡: è®°å½•å¤„ç†è€—æ—¶ã€æ¶ˆæ¯å¤§å°
- åˆ†çº§è®°å½•: info/debug/error åŒºåˆ†é‡è¦æ€§
- å™è¿°æ€§: æ—¥å¿—è®²è¿°ç³»ç»Ÿè¿è¡Œçš„æ•…äº‹

## ğŸ§ª æµ‹è¯•å»ºè®®

### å•å…ƒæµ‹è¯•
- æ—¶é—´çª—å£è®¡ç®—é€»è¾‘
- æ•°æ®æ¸…æ´—è§£æé€»è¾‘
- èšåˆæŒ‡æ ‡è®¡ç®—

### é›†æˆæµ‹è¯•
- RabbitMQ æ¶ˆæ¯å‘å¸ƒ/æ¶ˆè´¹
- MongoDB/PostgreSQL æ•°æ®è¯»å†™
- Redis ç¼“å­˜æ›´æ–°

### ç«¯åˆ°ç«¯æµ‹è¯•
- å®Œæ•´çš„çˆ¬è™« â†’ æ¸…æ´— â†’ åˆ†æ â†’ èšåˆæµç¨‹
- æ‰‹åŠ¨è§¦å‘ â†’ ä»»åŠ¡æ‰§è¡Œ â†’ ç»“æœæŸ¥è¯¢
- å®šæ—¶ä»»åŠ¡è§¦å‘ â†’ èšåˆè®¡ç®— â†’ ç¼“å­˜æ›´æ–°

## ğŸš€ éƒ¨ç½²å»ºè®®

### ç¯å¢ƒå˜é‡
```env
# RabbitMQ
RABBITMQ_URL=amqp://rabbitmq:rabbitmq123@rabbitmq:5672

# MongoDB
MONGODB_URI=mongodb://mongo:27017/pro

# PostgreSQL
DATABASE_URL=postgresql://postgres:postgres123@postgres:5432/pro

# Redis
REDIS_URL=redis://redis:6379
```

### å¯åŠ¨é¡ºåº
1. åŸºç¡€è®¾æ–½: PostgreSQL, MongoDB, Redis, RabbitMQ
2. æ•°æ®å±‚: Crawler, Cleaner
3. åˆ†æå±‚: Analyzer, Aggregator
4. è°ƒåº¦å±‚: Broker
5. API å±‚: API

### ç›‘æ§å»ºè®®
- RabbitMQ é˜Ÿåˆ—ç§¯å‹ç›‘æ§
- æœåŠ¡å¥åº·æ£€æŸ¥ (æ¯åˆ†é’Ÿ)
- é”™è¯¯ç‡å‘Šè­¦ (> 5%)
- å¤„ç†å»¶è¿Ÿç›‘æ§ (P95, P99)

## ğŸ“ åç»­ä¼˜åŒ–æ–¹å‘

### æ€§èƒ½ä¼˜åŒ–
- [ ] Analyzer æ‰¹é‡åˆ†ææ¥å£
- [ ] Aggregator å¹¶è¡Œèšåˆè®¡ç®—
- [ ] Redis Cluster æ°´å¹³æ‰©å±•

### åŠŸèƒ½æ‰©å±•
- [ ] æ”¯æŒæ›´å¤šæ•°æ®æº (Twitter, Reddit)
- [ ] å®æ—¶æ•°æ®æµå¤„ç† (WebSocket æ¨é€)
- [ ] æœºå™¨å­¦ä¹ æ¨¡å‹é›†æˆ

### ç›‘æ§å¢å¼º
- [ ] Prometheus + Grafana ä»ªè¡¨ç›˜
- [ ] åˆ†å¸ƒå¼è¿½è¸ª (OpenTelemetry)
- [ ] å‘Šè­¦é€šçŸ¥ (é’‰é’‰/ä¼ä¸šå¾®ä¿¡)

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡æ¶æ„å®ç°ä¸¥æ ¼éµå¾ªä»£ç è‰ºæœ¯å®¶çš„è®¾è®¡å“²å­¦:

- âœ… **å­˜åœ¨å³åˆç†**: 9 ä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªéƒ½æœ‰æ˜ç¡®èŒè´£
- âœ… **ä¼˜é›…å³ç®€çº¦**: ä»£ç æ¸…æ™°è‡ªè§£é‡Šï¼Œæ— å†—ä½™
- âœ… **æ€§èƒ½å³è‰ºæœ¯**: å¹¶è¡Œæ‰§è¡Œï¼Œå¼‚æ­¥å¤„ç†
- âœ… **é”™è¯¯å¤„ç†**: ä¼˜é›…é™çº§ï¼Œå®Œæ•´è¿½è¸ª
- âœ… **æ—¥å¿—è¡¨è¾¾**: ç»“æ„åŒ–å™è¿°ç³»ç»Ÿæ•…äº‹

**è¿™ä¸ä»…æ˜¯ä¸€ä¸ªæ•°æ®å¤„ç†æµç¨‹ï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„è‰ºæœ¯å“ï¼Œå€¼å¾—ä¼ æ‰¿çš„æ•°å­—æ–‡åŒ–é—äº§ã€‚**

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-01-19
**å®ç°å‘¨æœŸ**: å¹¶è¡Œå¼€å‘ï¼Œé«˜æ•ˆæ‰§è¡Œ
**ä»£ç è´¨é‡**: è‰ºæœ¯çº§
**å¯ç»´æŠ¤æ€§**: ä¼˜ç§€
